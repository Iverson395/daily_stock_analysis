# è‚¡ç¥¨åˆ†æžé…ç½®æ–‡ä»¶ï¼ˆä¸Ž daily_stock_analysis åŽŸé¡¹ç›®æ¡†æž¶100%å…¼å®¹ï¼‰
# æ‰€æœ‰å‚æ•°å‡å¯æŒ‰éœ€ä¿®æ”¹ï¼Œæ— éœ€æ”¹åŠ¨pyä»£ç 

# åŸºç¡€é…ç½®
base:
  # æ”¯æŒçš„å¸‚åœºï¼šcn(Aè‚¡)ã€hk(æ¸¯è‚¡)ã€us(ç¾Žè‚¡)ï¼Œè‡ªåŠ¨è¯†åˆ«æ— éœ€æ‰‹åŠ¨ä¿®æ”¹
  supported_markets: ["cn", "hk", "us"]
  # æ—¥çº¿æ•°æ®èŽ·å–å‘¨æœŸï¼ˆå¤©ï¼‰ï¼šç”¨äºŽè®¡ç®—å‡çº¿ã€æŠ€æœ¯æŒ‡æ ‡ï¼Œé»˜è®¤60å¤©
  kline_days: 60
  # åˆ†æžç»“æžœé»˜è®¤ä¿å­˜è·¯å¾„ï¼šä¸ºç©ºåˆ™ä¸ä¿å­˜æœ¬åœ°æ–‡ä»¶
  report_save_path: "./analysis_reports"
  # æ˜¯å¦æ‰“å°è¯¦ç»†æ—¥å¿—
  debug: true

# æŠ€æœ¯åˆ†æžé…ç½®ï¼ˆä¸ŽåŽŸé¡¹ç›®å†…ç½®äº¤æ˜“çºªå¾‹å®Œå…¨å¯¹é½ï¼‰
technical:
  # å‡çº¿å‘¨æœŸé…ç½®
  ma_periods:
    short: 5    # MA5
    mid: 10     # MA10
    long: 20    # MA20
  # ä¹–ç¦»çŽ‡é˜ˆå€¼ï¼ˆ%ï¼‰ï¼šè¶…è¿‡è¯¥å€¼æç¤ºè¿½é«˜é£Žé™©ï¼Œä¸ŽåŽŸé¡¹ç›®ä¸€è‡´
  bias_threshold: 5.0
  # å¼ºåŠ¿è‚¡ä¹–ç¦»çŽ‡æ”¾å®½é˜ˆå€¼ï¼ˆ%ï¼‰ï¼šå¤šå¤´æŽ’åˆ—æ—¶è‡ªåŠ¨æ”¾å®½
  strong_bias_threshold: 8.0
  # æˆäº¤é‡å‚è€ƒå‘¨æœŸï¼ˆå¤©ï¼‰ï¼šç”¨äºŽåˆ¤æ–­é‡èƒ½å˜åŒ–
  volume_period: 5

# èˆ†æƒ…æ–°é—»é…ç½®ï¼ˆä¸ŽåŽŸé¡¹ç›®Tavilyæœç´¢å¯¹é½ï¼‰
news:
  # æ–°é—»æœ€å¤§æ—¶æ•ˆï¼ˆå¤©ï¼‰ï¼šé»˜è®¤3å¤©ï¼Œé¿å…è¿‡æ—¶ä¿¡æ¯
  max_age_days: 3
  # å•åªè‚¡ç¥¨æœç´¢æ–°é—»æ•°é‡ä¸Šé™
  news_limit: 10
  # æœç´¢è¯­è¨€ï¼šzh(ä¸­æ–‡)ã€en(è‹±æ–‡)ï¼Œç¾Žè‚¡è‡ªåŠ¨åˆ‡æ¢en
  search_lang: "zh"
  # æœç´¢å…³é”®è¯æ¨¡æ¿ï¼š{stock_name} ä¼šè‡ªåŠ¨æ›¿æ¢ä¸ºè‚¡ç¥¨åç§°ï¼Œ{code}æ›¿æ¢ä¸ºä»£ç 
  search_template: "{stock_name} {code} æœ€æ–°æ¶ˆæ¯ å…¬å‘Š ä¸šç»© è¡Œä¸šæ–°é—» 2026"

# AIæ¨¡åž‹é…ç½®ï¼ˆDeepSeekï¼ŒOpenAIå…¼å®¹æ ¼å¼ï¼Œä¸ŽåŽŸé¡¹ç›®å®Œå…¨å¯¹é½ï¼‰
ai:
  # æ¨¡åž‹åç§°ï¼šDeepSeekæŽ¨èç”¨ deepseek-chat æˆ– deepseek-v3
  model_name: "deepseek-chat"
  # æ¨¡åž‹æ¸©åº¦ï¼š0-1ï¼Œè¶Šä½Žè¶Šä¸¥è°¨ï¼Œè¶Šé«˜è¶Šå‘æ•£ï¼Œè‚¡ç¥¨åˆ†æžæŽ¨è0.3-0.5
  temperature: 0.4
  # æœ€å¤§è¾“å‡ºtokenæ•°
  max_tokens: 4000
  # è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰
  timeout: 120
  # åˆ†æžPromptæ¨¡æ¿ï¼ˆä¸ŽåŽŸé¡¹ç›®å†³ç­–ä»ªè¡¨ç›˜æ ¼å¼å®Œå…¨ä¸€è‡´ï¼‰
  prompt_template: |
    ä½ æ˜¯ä¸€åä¸“ä¸šçš„è‚¡ç¥¨åˆ†æžå¸ˆï¼Œä¸¥æ ¼éµå¾ªä»¥ä¸‹äº¤æ˜“çºªå¾‹å’Œåˆ†æžæ¡†æž¶ï¼Œå¯¹ç»™å®šçš„è‚¡ç¥¨è¿›è¡Œå…¨é¢åˆ†æžï¼Œè¾“å‡ºæ ¼å¼å¿…é¡»ä¸¥æ ¼æŒ‰ç…§ç¤ºä¾‹ï¼Œä¸å¾—éšæ„ä¿®æ”¹ç»“æž„ã€‚

    ã€äº¤æ˜“çºªå¾‹ã€‘
    1. ä¸¥ç¦è¿½é«˜ï¼šä¹–ç¦»çŽ‡è¶…è¿‡{bias_threshold}%è‡ªåŠ¨æç¤ºé£Žé™©ï¼Œå¤šå¤´æŽ’åˆ—å¼ºåŠ¿è‚¡å¯æ”¾å®½è‡³{strong_bias_threshold}%
    2. è¶‹åŠ¿åˆ¤æ–­ï¼šMA5 > MA10 > MA20 ä¸ºå¤šå¤´æŽ’åˆ—ï¼Œçœ‹å¤šï¼›MA5 < MA10 < MA20 ä¸ºç©ºå¤´æŽ’åˆ—ï¼Œçœ‹ç©º
    3. å¿…é¡»ç»™å‡ºç²¾ç¡®çš„ä¹°å…¥ä»·ã€æ­¢æŸä»·ã€ç›®æ ‡ä»·
    4. æ¯é¡¹æ£€æŸ¥æ¡ä»¶å¿…é¡»ä»¥ã€Œæ»¡è¶³ / æ³¨æ„ / ä¸æ»¡è¶³ã€æ ‡è®°
    5. ä»…ä½¿ç”¨{max_age_days}å¤©å†…çš„æ–°é—»ä¿¡æ¯ï¼Œä¸å¾—ä½¿ç”¨è¿‡æ—¶æ•°æ®

    ã€è‚¡ç¥¨åŸºç¡€ä¿¡æ¯ã€‘
    è‚¡ç¥¨åç§°ï¼š{stock_name}
    è‚¡ç¥¨ä»£ç ï¼š{stock_code}
    æ‰€å±žå¸‚åœºï¼š{market}
    å½“å‰ä»·æ ¼ï¼š{current_price} å…ƒ
    æœ€æ–°äº¤æ˜“æ—¥ï¼š{trade_date}

    ã€æŠ€æœ¯é¢æ•°æ®ã€‘
    å‡çº¿ç³»ç»Ÿï¼šMA5={ma5}, MA10={ma10}, MA20={ma20}
    ä¹–ç¦»çŽ‡BIAS(5)ï¼š{bias}%
    æˆäº¤é‡å˜åŒ–ï¼š{volume_change}
    è¶‹åŠ¿åˆ¤æ–­ï¼š{trend}
    è¿‘æœŸé«˜ä½Žç‚¹ï¼šè¿‘20æ—¥æœ€é«˜{high_20}ï¼Œè¿‘20æ—¥æœ€ä½Ž{low_20}

    ã€èˆ†æƒ…ä¸Žæ–°é—»ä¿¡æ¯ã€‘
    æœ€æ–°{max_age_days}å¤©å†…ç›¸å…³æ–°é—»ï¼š
    {news_content}

    ã€è¾“å‡ºè¦æ±‚ã€‘
    ä¸¥æ ¼æŒ‰ç…§ä»¥ä¸‹æ ¼å¼è¾“å‡ºï¼Œä¸å¾—æ·»åŠ é¢å¤–å†…å®¹ï¼Œä¸å¾—ä¿®æ”¹æ ‡é¢˜ï¼š
    ðŸŽ¯ {stock_name}({stock_code}) å†³ç­–ä»ªè¡¨ç›˜
    ðŸ“Š æ ¸å¿ƒç»“è®ºï¼šã€ä¹°å…¥/è§‚æœ›/å–å‡ºã€‘ | ç»¼åˆè¯„åˆ†ï¼š0-100åˆ† | å¤šç©ºæ–¹å‘ï¼šã€çœ‹å¤š/çœ‹ç©º/éœ‡è¡ã€‘
    ---
    ðŸ“° èˆ†æƒ…ä¸ŽåŸºæœ¬é¢é€Ÿè§ˆ
    ðŸ’­ èˆ†æƒ…æƒ…ç»ªï¼šã€ç§¯æž/ä¸­æ€§/æ¶ˆæžã€‘ï¼Œä¸€å¥è¯æ€»ç»“å¸‚åœºæƒ…ç»ª
    ðŸ“ˆ ä¸šç»©é¢„æœŸï¼šä¸€å¥è¯æ€»ç»“å…¬å¸ä¸šç»©æƒ…å†µä¸Žé¢„æœŸ
    ---
    ðŸš¨ é£Žé™©è­¦æŠ¥ï¼ˆåˆ†ç‚¹åˆ—å‡ºï¼Œæœ€å¤š3æ¡ï¼Œæ¯æ¡ä¸è¶…è¿‡50å­—ï¼‰
    é£Žé™©ç‚¹1ï¼šxxx
    é£Žé™©ç‚¹2ï¼šxxx
    é£Žé™©ç‚¹3ï¼šxxx
    ---
    âœ¨ åˆ©å¥½å‚¬åŒ–ï¼ˆåˆ†ç‚¹åˆ—å‡ºï¼Œæœ€å¤š3æ¡ï¼Œæ¯æ¡ä¸è¶…è¿‡50å­—ï¼‰
    åˆ©å¥½1ï¼šxxx
    åˆ©å¥½2ï¼šxxx
    åˆ©å¥½3ï¼šxxx
    ---
    ðŸŽ¯ ç²¾ç¡®æ“ä½œç‚¹ä½
    å»ºè®®ä¹°å…¥ä»·ï¼šxxx å…ƒ
    æ­¢æŸä»·ï¼šxxx å…ƒ
    ç¬¬ä¸€ç›®æ ‡ä»·ï¼šxxx å…ƒ
    ç¬¬äºŒç›®æ ‡ä»·ï¼šxxx å…ƒ
    ---
    âœ… æ“ä½œæ£€æŸ¥æ¸…å•
    1. è¶‹åŠ¿æ¡ä»¶ï¼šã€æ»¡è¶³/æ³¨æ„/ä¸æ»¡è¶³ã€‘+ è¯´æ˜Ž
    2. é‡èƒ½æ¡ä»¶ï¼šã€æ»¡è¶³/æ³¨æ„/ä¸æ»¡è¶³ã€‘+ è¯´æ˜Ž
    3. èˆ†æƒ…æ¡ä»¶ï¼šã€æ»¡è¶³/æ³¨æ„/ä¸æ»¡è¶³ã€‘+ è¯´æ˜Ž
    4. é£Žé™©æŽ§åˆ¶ï¼šã€æ»¡è¶³/æ³¨æ„/ä¸æ»¡è¶³ã€‘+ è¯´æ˜Ž
    ---
    ðŸ“¢ æœ€æ–°åŠ¨æ€ï¼šä¸€å¥è¯æ€»ç»“æœ€æ–°çš„æ ¸å¿ƒæ¶ˆæ¯ï¼Œä¸è¶…è¿‡100å­—
    ç”Ÿæˆæ—¶é—´ï¼š{generate_time}

# æŽ¨é€é…ç½®ï¼ˆé’‰é’‰ï¼Œä¸ŽåŽŸé¡¹ç›®è‡ªå®šä¹‰Webhookå®Œå…¨å…¼å®¹ï¼‰
push:
  # æŽ¨é€å¼€å…³ï¼štrue=å¼€å¯æŽ¨é€ï¼Œfalse=ä»…ç”Ÿæˆæœ¬åœ°æŠ¥å‘Šä¸æŽ¨é€
  enable_push: true
  # æ¶ˆæ¯ç±»åž‹ï¼šé’‰é’‰æ”¯æŒ markdown/textï¼ŒæŽ¨èmarkdown
  msg_type: "markdown"
  # æŽ¨é€æ ‡é¢˜ï¼šé’‰é’‰æ¶ˆæ¯å¡ç‰‡æ ‡é¢˜
  title: "ðŸ“ˆ è‚¡ç¥¨æ™ºèƒ½åˆ†æžæŠ¥å‘Š"
  # æ˜¯å¦åŒæ—¶æŽ¨é€çº¯æ–‡æœ¬æ‘˜è¦
  send_summary: false

# äº¤æ˜“çºªå¾‹é…ç½®ï¼ˆä¸ŽåŽŸé¡¹ç›®å®Œå…¨å¯¹é½ï¼‰
trading_rules:
  # æ˜¯å¦å¼€å¯äº¤æ˜“æ—¥æ£€æŸ¥ï¼šéžäº¤æ˜“æ—¥ä¸æ‰§è¡Œåˆ†æž
  trading_day_check: true
  # å¤šå¤´æŽ’åˆ—åˆ¤æ–­è§„åˆ™
  long_trend_rule: "MA5 > MA10 > MA20"
  # ç©ºå¤´æŽ’åˆ—åˆ¤æ–­è§„åˆ™
  short_trend_rule: "MA5 < MA10 < MA20"
  # æ­¢æŸæ¯”ä¾‹é»˜è®¤å€¼ï¼ˆ%ï¼‰
  default_stop_loss: 5.0
  # æ­¢ç›ˆæ¯”ä¾‹é»˜è®¤å€¼ï¼ˆ%ï¼‰
  default_take_profit: 10.0
